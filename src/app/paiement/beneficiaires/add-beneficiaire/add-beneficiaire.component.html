<div class="container">
  <h2>
    <i class="icon fas fa-user-plus"></i>Ajouter un nouveau bénéficiaire
  </h2>

  <form [formGroup]="beneficiaireForm" (ngSubmit)="onSubmit()">
    <!-- Nom -->
    <div class="form-group">
      <label for="nom">Nom *</label>
      <input type="text" id="nom" class="form-control" formControlName="nom" placeholder="Saisir le nom">
      <span class="error-message" *ngIf="nom?.invalid && (nom?.dirty || nom?.touched)">
        <span *ngIf="nom?.errors?.['required']">Le nom est obligatoire</span>
        <span *ngIf="nom?.errors?.['minlength']">Le nom doit contenir au moins 2 caractères</span>
      </span>
    </div>

    <!-- Prénom -->
    <div class="form-group">
      <label for="prenom">Prénom *</label>
      <input type="text" id="prenom" class="form-control" formControlName="prenom" placeholder="Saisir le prénom">
      <span class="error-message" *ngIf="prenom?.invalid && (prenom?.dirty || prenom?.touched)">
        <span *ngIf="prenom?.errors?.['required']">Le prénom est obligatoire</span>
        <span *ngIf="prenom?.errors?.['minlength']">Le prénom doit contenir au moins 2 caractères</span>
      </span>
    </div>

    <!-- RIB -->
    <div class="form-group">
      <label for="ribCompte">RIB *</label>
      <input type="text" id="ribCompte" class="form-control" formControlName="ribCompte" placeholder="Saisir le RIB (20 chiffres)">
      <span class="error-message" *ngIf="ribCompte?.invalid && (ribCompte?.dirty || ribCompte?.touched)">
        <span *ngIf="ribCompte?.errors?.['required']">Le RIB est obligatoire</span>
        <span *ngIf="ribCompte?.errors?.['pattern']">Le RIB doit contenir exactement 20 chiffres</span>
      </span>
    </div>

    <!-- Email -->
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" class="form-control" formControlName="Email" placeholder="Saisir l'email">
      <span class="error-message" *ngIf="Email?.invalid && (Email?.dirty || Email?.touched)">
        <span *ngIf="Email?.errors?.['email']">Format d'email invalide(e@example.com)</span>
      </span>
    </div>

    <!-- Téléphone -->
    <div class="form-group">
      <label for="telephone">Téléphone</label>
      <input type="tel" id="telephone" class="form-control" formControlName="Telephone" placeholder="Saisir le numéro de téléphone">
      <span class="error-message" *ngIf="Telephone?.invalid && (Telephone?.dirty || Telephone?.touched)">
        <span *ngIf="Telephone?.errors?.['pattern']">Le numéro doit contenir entre 8 et 15 chiffres</span>
      </span>
    </div>

    <div class="button-group">
      <button type="button" class="btn btn-secondary" (click)="resetForm()">
        <i class="icon fas fa-times"></i>Annuler
      </button>
      <button type="submit" class="btn btn-primary" [disabled]="beneficiaireForm.invalid">
        <i class="icon fas fa-save"></i>Enregistrer
      </button>
    </div>
  </form>
</div>
